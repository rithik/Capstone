(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{386:function(e,t,n){e.exports=n(573)},391:function(e,t,n){},398:function(e,t){},400:function(e,t){},411:function(e,t){},413:function(e,t){},440:function(e,t){},442:function(e,t){},443:function(e,t){},449:function(e,t){},451:function(e,t){},469:function(e,t){},471:function(e,t){},483:function(e,t){},486:function(e,t){},573:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(26),o=n.n(c),i=(n(391),n(95),n(374)),u=n(29),s=n(17),l=n(15),m=n(23),p=n(32),g=n(111),d=n(27),b=n(241),f=n.n(b),v=n(82),y=n.n(v);function h(e,t,n){var a={message:e,type:t},r=JSON.stringify(a),c=localStorage.getItem("".concat(n,"-privateKey"));return y.a.AES.encrypt(r,c).toString()}function O(e,t){var n=localStorage.getItem("".concat(t,"-privateKey")),a=y.a.AES.decrypt(e,n);return JSON.parse(a.toString(y.a.enc.Utf8))}function j(e){var t=new f.a;return t.setPrivateKey(localStorage.getItem("user-privateKey")),t.decrypt(e)}function E(){var e=Object(p.a)(["\n    subscription getNewGroups($username: String!){\n        newGroup(username: $username){\n          id\n          users{\n            username\n          }\n          name\n          publicKey\n          privateKey\n        }\n    }\n"]);return E=function(){return e},e}function w(){var e=Object(p.a)(["\n  query getGroupsWithUser($username: String!) {\n    groupsByUser(username: $username){\n      id\n      name\n      users {\n        username\n      }\n      privateKey\n    }\n  }\n"]);return w=function(){return e},e}var S=Object(l.gql)(w()),k=Object(l.gql)(E());var K=function(e){var t=e.selectedGroup,n=e.setSelectedGroup,c=e.setDoneFetching,o=e.client,i=localStorage.getItem("username"),u=Object(l.useQuery)(S,{variables:{username:i}}),s=u.subscribeToMore,m=u.loading,p=u.error,b=u.data,f=u.refetch;if(Object(a.useEffect)((function(){var e=s({document:k,variables:{username:i},updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;var a=n.data.newGroup;return localStorage.setItem("".concat(a.id,"-privateKey"),j(a.privateKey)),Object.assign({},e,{groupsByUser:[a].concat(Object(g.a)(e.groupsByUser))})}});return function(){e()}}),[s,i]),m)return"Loading...";if(p)return o.resetStore(),f(),"Error! ".concat(p.message);var v=b.groupsByUser.map((function(e){null!=localStorage.getItem("".concat(e.id,"-privateKey"))&&"undefined"!==localStorage.getItem("".concat(e.id,"-privateKey"))||localStorage.setItem("".concat(e.id,"-privateKey"),j(e.privateKey));var a=e.users.map((function(e){return"@".concat(e.username)}));return r.a.createElement("div",{key:e.id,onClick:function(){n(e.id),c(!1)}},r.a.createElement(d.c,{active:e.id===t},r.a.createElement(d.a,{letter:e.name.charAt(0).toUpperCase()}),r.a.createElement(d.d,{fill:"true"},r.a.createElement(d.e,{justify:!0},r.a.createElement(d.h,{ellipsis:!0},e.name)),r.a.createElement(d.e,{justify:!0},r.a.createElement(d.f,{ellipsis:!0},a.join(", "))))))}));return r.a.createElement(d.b,{style:{maxWidth:"100%"}},v)},x=n(132),I=n(170),$=n.n(I),C=n(242);n(214);function M(){var e=Object(p.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return M=function(){return e},e}var T=Object(x.css)(M());var G=function(e){var t=e.entries,n=e.onLoadMore,c=e.doneFetching,o=e.selectedGroup,i=r.a.createRef(),u=r.a.createRef();window.lm=n;var s=[].concat(t.messagesByGroup).reverse(),l=localStorage.getItem("username"),m=s.map((function(e){return null==localStorage.getItem("".concat(o,"-privateKey"))||"undefined"===localStorage.getItem("".concat(o,"-privateKey"))?null:new C.Message({id:e.sender===l?0:e.sender,message:O(e.content,o).message,senderName:"@".concat(e.sender)})})).filter(Boolean);Object(a.useEffect)((function(){i.scrollIntoView({behavior:"smooth"});var e=setInterval((function(){if(!u)return!1;var e=u.getBoundingClientRect().top;e+0>=0&&e-0<=window.innerHeight&&n()}),1e3);return function(){clearInterval(e)}}),[n,u,i]);var p=.8*window.innerHeight;return r.a.createElement("div",{style:{marginLeft:"10px",marginRight:"10px",marginBottom:"50px"}},r.a.createElement("div",{style:{height:"30px"},ref:function(e){u=e}},c?o:r.a.createElement($.a,{css:T,size:30,color:"#123abc",loading:!0})),r.a.createElement("div",{style:{maxHeight:p}},r.a.createElement(C.ChatFeed,{maxHeight:p,messages:m,showSenderName:!0,bubblesCentered:!1,bubbleStyles:{text:{fontSize:14},chatbubble:{borderRadius:30,padding:15}}})),r.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(e){i=e}}))};function B(){var e=Object(p.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return B=function(){return e},e}function A(){var e=Object(p.a)(["\n    subscription getNewMessages($gid: Int!){\n        newMessage(gid: $gid){\n            id\n            content\n            ts\n            sender\n            group\n            cType\n        }\n    }\n"]);return A=function(){return e},e}function P(){var e=Object(p.a)(["\n    query getMessagesForGroup($gid: Int!, $offset: Int, $limit: Int) {\n        messagesByGroup(gid: $gid, count: $limit, offset: $offset){\n            id\n            content\n            ts\n            sender\n            group\n            cType\n        }\n    }\n"]);return P=function(){return e},e}var q=Object(l.gql)(P()),N=Object(l.gql)(A()),U=Object(x.css)(B());var z=function(e){var t=e.selectedGroup,n=e.doneFetching,c=e.setDoneFetching,o=Object(l.useQuery)(q,{variables:{gid:t,offset:0,limit:50},fetchPolicy:"cache-and-network"}),i=o.subscribeToMore,u=o.loading,s=o.error,m=o.data,p=o.fetchMore;return Object(a.useEffect)((function(){var e=i({document:N,variables:{gid:t},updateQuery:function(e,n){var a=n.subscriptionData;if(!a.data)return e;console.log(a,t);var r=a.data.newMessage;return Object.assign({},e,{messagesByGroup:[r].concat(Object(g.a)(e.messagesByGroup))})}});return function(){e()}}),[i,t]),u?r.a.createElement("div",{style:{marginLeft:"10px",marginRight:"10px",marginBottom:"50px"}},r.a.createElement("div",{style:{height:"30px"}},!n&&r.a.createElement($.a,{css:U,size:30,color:"#123abc",loading:!0}))):s?"Error! ".concat(s.message):r.a.createElement(G,{entries:m,selectedGroup:t,doneFetching:n,onLoadMore:function(){if(!n)return p({variables:{offset:m.messagesByGroup.length},updateQuery:function(e,t){var n=t.fetchMoreResult;return 0===n.messagesByGroup.length&&c(!0),Object.assign({},e,{messagesByGroup:[].concat(Object(g.a)(e.messagesByGroup),Object(g.a)(n.messagesByGroup))})}})}})},L=n(109),R=n(375),F=n(369),D=n.n(F),H=(n(525),n(41)),W=n.n(H),J=n(71),Q=n(162),Y=n.n(Q);function V(e){return String.fromCharCode.apply(null,Array.from(new Uint8Array(e)))}function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(J.a)(W.a.mark((function e(t){var n,a,r,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.exportKey("spki",t);case 2:return n=e.sent,a=V(n),r=window.btoa(a),c="-----BEGIN PUBLIC KEY-----\n".concat(r,"\n-----END PUBLIC KEY-----"),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(J.a)(W.a.mark((function e(t){var n,a,r,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.exportKey("pkcs8",t);case 2:return n=e.sent,a=V(n),r=window.btoa(a),c="-----BEGIN PRIVATE KEY-----\n".concat(r,"\n-----END PRIVATE KEY-----"),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(J.a)(W.a.mark((function e(t,n){var a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:n,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]).then(function(){var e=Object(J.a)(W.a.mark((function e(n){var a,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(n.publicKey);case 2:return a=e.sent,e.next=5,_(n.privateKey);case 5:return r=e.sent,e.abrupt("return",{privateKey:r,username:t,publicKey:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return Y.a.pbkdf2Sync(e,"salt",1,32,"sha512").toString("hex")}function re(){var e=JSON.stringify(localStorage),t=localStorage.getItem("password")||"";return y.a.AES.encrypt(e,t).toString()}function ce(e,t){var n=y.a.AES.decrypt(e,t);try{for(var a=JSON.parse(n.toString(y.a.enc.Utf8)),r=0,c=Object.entries(a);r<c.length;r++){var o=Object(m.a)(c[r],2),i=o[0],u=o[1];localStorage.setItem(i,u)}}catch(s){return console.error(s),!1}return!0}var oe=n(112),ie=n(83);function ue(){var e=Object(p.a)(["\n    mutation updateKeys($username: String!, $keys: String!){\n        updateKeys(username:$username, keys:$keys){\n            success\n        }\n    }\n"]);return ue=function(){return e},e}function se(){var e=Object(p.a)(["\n    mutation createPrivateKey($username: String!, $privateKey: String!, $gid: Int!){\n        createPrivateKey(username:$username, gid:$gid, privateKey:$privateKey){\n            id\n            privateKey\n        }\n    }\n"]);return se=function(){return e},e}function le(){var e=Object(p.a)(["\nmutation createGroup($name: String!, $publicKey: String!, $users: [String!]){\n    createGroup(name:$name, publicKey:$publicKey, users:$users){\n      id\n      name\n      publicKey\n      users{\n          username\n          publicKey\n      }\n    }\n  }\n"]);return le=function(){return e},e}var me=Object(l.gql)(le()),pe=Object(l.gql)(se()),ge=Object(l.gql)(ue());var de=function(e){var t=e.show,n=e.setShow,c=Object(a.useState)([]),o=Object(m.a)(c,2),i=o[0],u=o[1],s=function(){return n(!1)},p=Object(a.useState)(""),g=Object(m.a)(p,2),d=g[0],b=g[1],v=Object(l.useMutation)(ge),y=Object(m.a)(v,1)[0],h=Object(l.useMutation)(pe),O=Object(m.a)(h,1)[0],j=Object(l.useMutation)(me,{onCompleted:function(e){var t=e.createGroup,n=localStorage.getItem("username"),a=localStorage.getItem("temp-group-privatekey");localStorage.setItem("".concat(t.id,"-privateKey"),a),localStorage.removeItem("temp-group-privatekey"),t.users.map((function(e){var n=function(e,t){var n=new f.a;return n.setPublicKey(t.publicKey),n.encrypt(e)}(a,e);return O({variables:{username:e.username,gid:t.id,privateKey:n}}),!0})),y({variables:{username:n,keys:re()}}),s()}}),E=Object(m.a)(j,1)[0];return r.a.createElement("div",null,r.a.createElement(oe.a,{show:t,transparent:"true",onHide:s},r.a.createElement(oe.a.Header,{closeButton:!0},r.a.createElement(oe.a.Title,null,"Input the individuals to add to your new Group Chat!")),r.a.createElement(oe.a.Body,null,r.a.createElement(D.a,{value:i,onChange:function(e){return u(e)},inputProps:{className:"react-tagsinput-input",placeholder:"Add people!"},onlyUnique:!0}),r.a.createElement(ie.a,{style:{marginTop:"20px"}},r.a.createElement(ie.a.Group,null,r.a.createElement(ie.a.Control,{type:"text",placeholder:"GroupName",value:d,onChange:function(e){return b(e.target.value)}})))),r.a.createElement(oe.a.Footer,null,r.a.createElement(L.a,{variant:"secondary",onClick:s},"Close"),r.a.createElement(L.a,{variant:"primary",onClick:function(){return function(e,t){e.push(localStorage.getItem("username"));var n=e.filter((function(e,t,n){return n.indexOf(e)===t}));n&&n.length>0?Promise.resolve(te(t,256)).then((function(e){var a=e.publicKey,r=e.privateKey;localStorage.setItem("temp-group-privatekey",r),E({variables:{users:n,publicKey:a,name:t}})})):console.log("Error, you have no individuals to add to the group")}(i,d)}},"Create Group!"))))};function be(){var e=Object(p.a)(["\n    mutation SendMessage($username: String!, $content: String!, $gid: Int!, $cType: String!){\n        createMessage(sender:$username, group:$gid, content:$content, cType:$cType){\n            id\n            content\n            ts\n        }\n    }\n"]);return be=function(){return e},e}var fe=Object(l.gql)(be()),ve={defaultTheme:{FixedWrapperMaximized:{css:{boxShadow:"0 0 1em rgba(0, 0, 0, 0.1)"}},OwnMessage:Object(s.a)(Object(s.a)({},d.j.OwnMessage),{},{backgroundColor:"#456456",secondaryTextColor:"#456456"})},purpleTheme:Object(s.a)(Object(s.a)({},d.l),{},{TextComposer:Object(s.a)(Object(s.a)({},d.l.TextComposer),{},{css:Object(s.a)(Object(s.a)({},d.l.TextComposer.css),{},{marginTop:"1em"})}),OwnMessage:Object(s.a)(Object(s.a)({},d.l.OwnMessage),{},{secondaryTextColor:"#fff"})}),elegantTheme:Object(s.a)(Object(s.a)({},d.k),{},{Message:Object(s.a)(Object(s.a)({},d.i.Message),{},{secondaryTextColor:"#fff"}),OwnMessage:Object(s.a)(Object(s.a)({},d.i.OwnMessage),{},{secondaryTextColor:"#fff"})}),darkTheme:Object(s.a)(Object(s.a)({},d.i),{},{Message:Object(s.a)(Object(s.a)({},d.i.Message),{},{css:Object(s.a)(Object(s.a)({},d.i.Message.css),{},{color:"#fff"})}),OwnMessage:Object(s.a)(Object(s.a)({},d.i.OwnMessage),{},{secondaryTextColor:"#fff"}),TitleBar:Object(s.a)(Object(s.a)({},d.i.TitleBar),{},{css:Object(s.a)(Object(s.a)({},d.i.TitleBar.css),{},{padding:"1em"})})})};var ye=function(e){var t=e.client,n=localStorage.getItem("username"),c=Object(a.useState)(""),o=Object(m.a)(c,2),i=o[0],u=o[1],s=Object(l.useMutation)(fe),p=Object(m.a)(s,1)[0],g=Object(a.useState)(null),b=Object(m.a)(g,2),f=b[0],v=b[1],y=Object(a.useState)(!1),O=Object(m.a)(y,2),j=O[0],E=O[1],w=Object(a.useState)(!1),S=Object(m.a)(w,2),k=S[0],x=S[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{show:k,setShow:x}),r.a.createElement(d.g,{theme:ve.defaultTheme},r.a.createElement("div",{style:{height:"100%",width:"30%",position:"fixed",zIndex:1,top:0,overflowX:"hidden",paddingTop:"20px",left:0}},r.a.createElement("div",{style:{verticalAlign:"middle",fontSize:24}},r.a.createElement(R.a,{name:n,size:50,round:!0,style:{marginBottom:20,marginLeft:25},title:"@".concat(n)})," ","@".concat(n)),r.a.createElement("div",{className:"App"},r.a.createElement(L.a,{variant:"primary",style:{marginRight:"10px"},onClick:function(){return x(!k)}},"Create Group Chat"),r.a.createElement(L.a,{variant:"secondary",onClick:function(){localStorage.clear();var e=window.location.href.split("/");e.pop();var t=e.join("/");window.location.href=t}},"Logout")),r.a.createElement(K,{client:t,selectedGroup:f,setSelectedGroup:v,setDoneFetching:E})),r.a.createElement("div",{style:{height:"100%",width:"70%",position:"fixed",zIndex:1,top:0,overflowX:"hidden",paddingTop:"20px",right:0,border:"1px solid rgba(0,0,0,0.1)"}},f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{selectedGroup:f,doneFetching:j,setDoneFetching:E}),r.a.createElement(ie.a,{style:{width:"68%",bottom:"20px",position:"fixed",marginLeft:"0",marginRight:"0",display:"block",left:"31%"}},r.a.createElement(ie.a.Group,null,r.a.createElement(ie.a.Control,{type:"text",placeholder:"Enter message",value:i,onChange:function(e){return u(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&""!==e.target.value&&(e.preventDefault(),p({variables:{username:n,gid:f,content:h(i,"text",f),cType:"text"}}),u(""))}})))))))},he=n(173),Oe=n(4),je=n(174);var Ee=function(){var e=window.location.href.includes("https://rithik.me/"),t=e?"https://e2-chat.herokuapp.com":"http://localhost:4000",n=e?"wss://e2-chat.herokuapp.com":"ws://localhost:4000",a=localStorage.getItem("token"),c=Object(l.createHttpLink)({uri:"".concat(t,"/graphql")}),o=Object(he.a)((function(e,t){var n=t.headers;return{headers:Object(s.a)(Object(s.a)({},n),{},{authorization:a?"".concat(a):""})}})),i=new je.a({uri:"".concat(n,"/graphql"),options:{reconnect:!0,connectionParams:{Authorization:a}}}),u=Object(l.split)((function(e){var t=e.query,n=Object(Oe.p)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),i,o.concat(c)),m=new l.ApolloClient({link:u,cache:new l.InMemoryCache});return r.a.createElement(l.ApolloProvider,{client:m},r.a.createElement("div",null,r.a.createElement(ye,{client:m})))},we=n(608),Se=n(612),ke=n(613),Ke=n(611),xe=n(610),Ie=n(245),$e=n.n(Ie),Ce=n(376),Me=n(244),Te=n(609);function Ge(){var e=Object(p.a)(["\n    mutation updateKeys($username: String!, $keys: String!){\n        updateKeys(username:$username, keys:$keys){\n            success\n        }\n    }\n"]);return Ge=function(){return e},e}function Be(){var e=Object(p.a)(["\n\tquery User($username: String!){\n\t\tuser(username:$username){\n\t\t\tusername\n\t\t\tid\n\t\t\tkeys\n\t\t}\n\t}\n"]);return Be=function(){return e},e}function Ae(){var e=Object(p.a)(["\n\tmutation CreateToken($username: String!, $publicKey: String!){\n\t\t  createToken(username:$username, publicKey:$publicKey){\n\t\t    token\n\t\t    username\n\t\t}\n\t}\n"]);return Ae=function(){return e},e}function Pe(){var e=Object(p.a)(["\n\tmutation CreateUser($username: String!, $publicKey: String!){\n\t  createUser(username:$username, publicKey:$publicKey){\n\t    id\n\t    username\n\t    publicKey\n\t  }\n\t}\n"]);return Pe=function(){return e},e}var qe=Object(l.gql)(Pe()),Ne=Object(l.gql)(Ae()),Ue=Object(l.gql)(Be()),ze=Object(l.gql)(Ge());var Le=function(){var e=Object(l.useMutation)(ze),t=Object(m.a)(e,1)[0],n=Object(l.useMutation)(qe,{onCompleted:function(e){var t=e.createUser,n=t.username,a=t.publicKey;i({variables:{username:n,publicKey:a}})}}),c=Object(m.a)(n,1)[0],o=Object(l.useMutation)(Ne,{onCompleted:function(e){var n=e.createToken,a="login"===R?K:y;localStorage.setItem("token",n.token),localStorage.setItem("username",n.username),localStorage.setItem("password",ae(a)),t({variables:{username:n.username,keys:re()}}),window.location.href=window.location.href+"main"}}),i=Object(m.a)(o,1)[0],u=Object(l.useMutation)(Ne,{onCompleted:function(e){var t=e.createToken;localStorage.setItem("token",t.token),window.location.href=window.location.href+"main"}}),s=Object(m.a)(u,1)[0],p=Object(a.useState)(""),g=Object(m.a)(p,2),d=g[0],b=g[1],f=Object(a.useState)(""),v=Object(m.a)(f,2),y=v[0],h=v[1],O=Object(a.useState)(""),j=Object(m.a)(O,2),E=j[0],w=j[1],S=Object(a.useState)(""),k=Object(m.a)(S,2),K=k[0],x=k[1],I=Object(a.useState)(!1),$=Object(m.a)(I,2),C=$[0],M=$[1],T=Object(a.useState)(!1),G=Object(m.a)(T,2),B=G[0],A=G[1],P=Object(a.useState)(!1),q=Object(m.a)(P,2),N=q[0],U=q[1],z=Object(a.useState)("login"),L=Object(m.a)(z,2),R=L[0],F=L[1],D=Object(l.useQuery)(Ue,{variables:{username:"login"===R?E:d}}),H=D.error,Q=D.refetch,Y=function(){var e=Object(J.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="login"===R?E:d,Promise.resolve(te(t,4096)).then((function(e){var t=e.publicKey,a=e.privateKey;c({variables:{username:n,publicKey:t}}),localStorage.setItem("user-publicKey",t),localStorage.setItem("user-privateKey",a),localStorage.setItem("username",n)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(J.a)(W.a.mark((function e(){var t,n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q({username:d});case 2:t=e.sent,n=t.data,H?Y(d):null==n.user?(M(!1),Y(d)):(M(!0),U(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(J.a)(W.a.mark((function e(){var t,n,a,r,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q({username:E});case 2:t=e.sent,n=t.data,console.log(n),H?(console.error(H),A(!0),U(!1)):null===n.user?(A(!0),U(!1)):(a=ae(K),ce(n.user.keys,a)?(r=localStorage.getItem("username"),c=localStorage.getItem("user-publicKey"),s({variables:{username:r,publicKey:c}})):(A(!0),U(!1)));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ce.a,{fill:!0,id:"controlled-tab-example",className:"tabHeadings",activeKey:R,onSelect:function(e){return F(e)}},r.a.createElement(Me.a,{eventKey:"login",title:"Login"},r.a.createElement("div",{className:"register"},r.a.createElement(Se.a,{InputProps:{style:{color:"black"}},id:"outlined-basic",label:"Username",variant:"outlined",value:E,color:"secondary",fullWidth:!0,onChange:function(e){return w(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Se.a,{InputProps:{style:{color:"black"}},id:"outlined-basic",label:"Password",variant:"outlined",value:K,type:"password",color:"secondary",fullWidth:!0,onChange:function(e){return x(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(we.a,{disabled:N,onClick:function(e){e.preventDefault(),U(!0),X()},variant:"contained",color:"secondary"},N&&r.a.createElement(Te.a,{size:20,style:{color:"white",marginRight:"10px"}})," Login"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.a,{in:B},r.a.createElement(ke.a,{action:r.a.createElement(Ke.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){A(!1)}},r.a.createElement($e.a,{fontSize:"inherit"})),variant:"filled",severity:"error"},"Invalid Login")))),r.a.createElement(Me.a,{eventKey:"register",title:"Register"},r.a.createElement("div",{className:"register"},r.a.createElement(Se.a,{InputProps:{style:{color:"black"}},id:"outlined-basic",label:"Username",variant:"outlined",value:d,color:"secondary",fullWidth:!0,onChange:function(e){return b(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Se.a,{InputProps:{style:{color:"black"}},id:"outlined-basic",label:"Password",variant:"outlined",value:y,type:"password",color:"secondary",fullWidth:!0,onChange:function(e){return h(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(we.a,{disabled:N,onClick:function(e){e.preventDefault(),U(!0),V()},variant:"contained",color:"secondary"},N&&r.a.createElement(Te.a,{size:20,style:{color:"white",marginRight:"10px"}})," Register"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.a,{in:C},r.a.createElement(ke.a,{action:r.a.createElement(Ke.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){M(!1)}},r.a.createElement($e.a,{fontSize:"inherit"})),variant:"filled",severity:"error"},"Invalid username - choose a unique username")))))};var Re=function(){var e=window.location.href.includes("https://rithik.me/"),t=e?"https://e2-chat.herokuapp.com":"http://localhost:4000",n=e?"wss://e2-chat.herokuapp.com":"ws://localhost:4000",a=localStorage.getItem("token"),c=Object(l.createHttpLink)({uri:"".concat(t,"/graphql")}),o=Object(he.a)((function(e,t){var n=t.headers;return{headers:Object(s.a)(Object(s.a)({},n),{},{authorization:a?"".concat(a):""})}})),i=new je.a({uri:"".concat(n,"/graphql"),options:{reconnect:!0,connectionParams:{Authorization:a}}}),u=Object(l.split)((function(e){var t=e.query,n=Object(Oe.p)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),i,o.concat(c)),m=new l.ApolloClient({link:u,cache:new l.InMemoryCache});return r.a.createElement(l.ApolloProvider,{client:m},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(Le,null))))};var Fe=function(){return r.a.createElement(i.a,{basename:"/"},r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/main"},r.a.createElement(Ee,null)),r.a.createElement(u.a,{path:"/"},r.a.createElement(Re,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,t,n){}},[[386,1,2]]]);
//# sourceMappingURL=main.d6460e3e.chunk.js.map